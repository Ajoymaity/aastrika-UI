{"version":3,"file":"aastrika_npmjs-comptency-self-assessment.js","sources":["ng://@aastrika_npmjs/comptency/self-assessment/service/self-assessment.service.ts","ng://@aastrika_npmjs/comptency/self-assessment/components/self-assessment-card/self-assessment-card.component.ts","ng://@aastrika_npmjs/comptency/self-assessment/service/request-util.service.ts","ng://@aastrika_npmjs/comptency/self-assessment/components/self-assessment/self-assessment.component.ts","ng://@aastrika_npmjs/comptency/self-assessment/self-assessment.module.ts","ng://@aastrika_npmjs/comptency/self-assessment/aastrika_npmjs-comptency-self-assessment.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { DataService } from '@aastrika_npmjs/comptency/core';\nimport { HttpClient } from '@angular/common/http';\nimport { urlConfig  } from '@aastrika_npmjs/comptency/core';\nimport { BehaviorSubject, Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SelfAssessmentService extends DataService {\n  public  startAssessment = new BehaviorSubject<any>(undefined);\n  startAssessment$ = this.startAssessment.asObservable();\n  constructor(http:HttpClient) {\n    super(http)\n  }\n\n  /**\n   *searching for the content Identifier\n   * \n   */\n  public getCompetencyCourseIdentifier(reqBody:any){ \n   \n    const httpOptions: any = {\n      url: urlConfig.getSearch(),\n      data: reqBody\n    };\n    \n    return this.post(httpOptions)\n  }\n\n   /**\n   *getting the details of course by pasing the identifier and hierarchyType\n   * \n   */\n\n  public fetchHiearchyDetails(identifier, hierarchyType){\n    \n    const httpOptions: any = {\n      url: urlConfig.getHierachyDetails(identifier, hierarchyType),\n    };\n    return this.get(httpOptions)\n  }\n\n\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { SelfAssessmentService } from '../../service/self-assessment.service';\n@Component({\n  selector: 'lib-self-assessment-card',\n  templateUrl: './self-assessment-card.component.html',\n  styleUrls: ['./self-assessment-card.component.scss']\n})\nexport class SelfAssessmentCardComponent implements OnInit {\n\n  @Input() cardData: any\n\n\n  constructor(  private selfAssessmentService : SelfAssessmentService,) { }\n\n  ngOnInit() {\n  }\n  startSelfAssesment(data:any){\n    this.selfAssessmentService.startAssessment.next(data)\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as _ from 'lodash-es';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestUtil {\n\n  constructor() { }\n\n  formatedcompetencyData(data:any){\n    const result = []\n    if(_.get(data,'result')){\n      if(_.get(data,'result.content').competency === true){\n        const children =  _.get(data, 'result.content').children\n\n        if(children.length > 0){\n         _.forEach(children, (value:any)=>{\n            result.push({\n              'title':  _.get(value, 'name'),\n              'courseId': _.get(value, 'parent'),\n              'contentId': _.get(value,'identifier'),\n              'contentType':_.get(value,'contentType'),\n              'artifactUrl':_.get(value,'artifactUrl'),\n            })\n           })\n           return result\n        }\n      }\n\n    }\n  }\n\n  formatedCompetencyCourseData(data:any){\n    const result = []\n    if(_.get(data,'result')){\n      const content =  _.get(data, 'result.content')\n      if(content.length > 0){\n         _.forEach(content, (value:any)=>{\n            result.push({\n              'title':  _.get(value, 'name'),\n              'contentId': _.get(value,'identifier'),\n              'contentType':_.get(value,'contentType'),\n              'subTitle': _.get(value,'subTitle'),\n              'description': _.get(value,'description'),\n              'creator': _.get(value,'creator'),\n              'duration': _.get(value,'duration')\n\n            })\n           })\n           return result\n        }\n      \n\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common'\nimport { SelfAssessmentService } from '../../service/self-assessment.service';\nimport { RequestUtil } from '../../service/request-util.service';\nimport { map, mergeMap } from 'rxjs/operators';\nimport * as _ from 'lodash-es';\nimport { of } from 'rxjs';\n\n@Component({\n  selector: 'lib-self-assessment',\n  templateUrl: './self-assessment.component.html',\n  styleUrls: ['./self-assessment.component.scss']\n})\nexport class SelfAssessmentComponent implements OnInit {\n\n  selfAssessmentData = []\n  requestUtil: any\n  loading = false\n  constructor(\n    private location: Location,\n    private selfAssessmentService : SelfAssessmentService,\n  ) { \n\n    this.requestUtil = new RequestUtil()\n  }\n  /**\n   *getting the details of course by pasing the identifier and hierarchyType\n   * \n   */\n  ngOnInit() {\n    this.loading = true\n    this.getCompetencyCourse().pipe(map((res:any)=>{\n      const formatedResponse =  this.requestUtil.formatedCompetencyCourseData(res)\n      return formatedResponse\n    })).subscribe((res)=>{\n      this.selfAssessmentData = res\n      this.loading = false\n    })\n    this.selfAssessmentService.startAssessment$.pipe().subscribe((res:any)=>{\n      console.log(res)\n      /**\n   * here we will redirect to player screen \n   * \n   */\n    })\n  }\n\n  getCompetencyCourse(){\n    const reqBody = {\n      \"request\": {\n          \"filters\": {\n              \"primaryCategory\": [\n                  \"Course\"\n              ],\n              \"contentType\": [\n                  \"Course\"\n              ],\n              \"status\": [\n                  \"Live\"\n              ],\n              \"competency\":true\n          }\n      },\n      \"query\": \"\",\n      \"sort\": [\n          {\n              \"lastUpdatedOn\": \"desc\"\n          }\n      ]\n  }\n    return  this.selfAssessmentService.getCompetencyCourseIdentifier(reqBody)\n  }\n  \n\n  navigateBack() {\n    this.location.back()\n  }\n\n}\n","import { NgModule  } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SelfAssessmentCardComponent } from './components/self-assessment-card/self-assessment-card.component';\nimport { SelfAssessmentComponent } from './components/self-assessment/self-assessment.component';\nimport { MatIconModule } from '@angular/material';\nimport { HttpClientModule } from '@angular/common/http';\nimport { CoreModule } from '@aastrika_npmjs/comptency/core';\n\n\n\n@NgModule({\n  declarations: [SelfAssessmentCardComponent, SelfAssessmentComponent],\n  imports: [\n    CommonModule,\n    MatIconModule,\n    HttpClientModule,\n    CoreModule\n  ],\n  exports:[SelfAssessmentCardComponent, SelfAssessmentComponent]\n})\nexport class SelfAssessmentModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {SelfAssessmentService as Éµa} from './service/self-assessment.service';"],"names":["tslib_1.__decorate","_.get","_.forEach"],"mappings":"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"}