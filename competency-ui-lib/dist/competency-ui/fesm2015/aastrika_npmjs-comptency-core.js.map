{"version":3,"file":"aastrika_npmjs-comptency-core.js","sources":["ng://@aastrika_npmjs/comptency/core/config/url.config.ts","ng://@aastrika_npmjs/comptency/core/services/data.service.ts","ng://@aastrika_npmjs/comptency/core/components/app-loader/app-loader.component.ts","ng://@aastrika_npmjs/comptency/core/core.module.ts","ng://@aastrika_npmjs/comptency/core/aastrika_npmjs-comptency-core.ts"],"sourcesContent":["/**\n * urlConfig to return the api url \n *\n * @author Aman Kumar Sharma <amankumar.sharma@tarento.com>\n */\nexport const urlConfig = {\n  host: window.location.protocol + \"//\" + window.location.host || 'https://sphere.aastrika.org',\n  apiSlug: '/apis/protected/v8',\n  apiProxy: '/apis/proxies/v8',\n  apiPublic: '/apis/public/v8',\n  apiBasePath: () => `${urlConfig.host}${urlConfig.apiSlug}`,\n  apiBaseProxy:() => `${urlConfig.host}${urlConfig.apiProxy}`,\n  apiBasePublic:() => `${urlConfig.host}${urlConfig.apiPublic}`,\n  getEntityById: (id:number) => `${urlConfig.apiBasePath()}/entityCompetency/getEntityById/${id}`,\n  getAllEntity: () => `${urlConfig.apiBasePath()}/entityCompetency/getAllEntity`,\n  getUserPassbook: () => `${urlConfig.apiBaseProxy()}/user/v1/passbook`,\n  getSearch:() => `${urlConfig.apiBasePublic()}/publicContent/v1/search`,\n  getHierachyDetails:(identifier, hierarchyType) => `${urlConfig.apiBaseProxy()}/action/content/v3/hierarchy/${identifier}?hierarchyType=${hierarchyType}`,\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport {mergeMap} from 'rxjs/operators'\nimport { of as observableOf, throwError as observableThrowError, Observable } from 'rxjs';\n/**\n * DataService to make http call\n *\n * @author Aman Kumar Sharma <amankumar.sharma@tarento.com>\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n    /**\n   * Contains base Url for api end points\n   */\n     baseUrl: string;\n    /**\n   * angular HttpClient\n   */\n  http: HttpClient;\n  constructor(http:HttpClient) {\n    this.http = http\n   }\n  /**\n   * for making get api calls\n   *\n   * @param requestParam interface\n   */\n  get(requestParam:any):Observable<any>{\n    const httpOptions: any = {\n      headers: requestParam.header ? requestParam.header : this.getHeader(),\n      params: requestParam.param,\n      observe: 'response'\n    };\n    return this.http.get( requestParam.url, httpOptions).pipe(\n      mergeMap(({ body, headers }: any) => {\n        if (body.responseCode !== 'OK') {\n          return observableThrowError(body);\n        }\n        return observableOf(body);\n      }));\n  }\n   /**\n   * for making get api calls\n   *\n   * @param requestParam interface\n   */\n  post(requestParam:any){\n    const httpOptions:any = {\n      headers: requestParam.header ? this.getHeader(requestParam.header) : this.getHeader(),\n      params: requestParam.param\n    }\n    // console.log('log in data service',requestParam)\n    return this.http.post(requestParam.url,requestParam.data,httpOptions).pipe(\n      mergeMap((data:any)=>{\n        if(data.responseCode === 200 || data.responseCode === 'OK'){\n          return observableOf(data);\n        }else {\n          return observableThrowError(data);\n        }\n        \n      })\n    )\n  }\n  /**\n   * for preparing headers\n   */\n   private getHeader(headers?: any): any {\n    \n    const default_headers = {\n      'Accept': 'application/json',\n     \n    };\n    \n    if (headers) {\n      return { ...default_headers, ...headers };\n    } else {\n      return { ...default_headers };\n    }\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport * as _ from 'lodash-es'\n@Component({\n  selector: 'lib-app-loader',\n  templateUrl: './app-loader.component.html',\n  styleUrls: ['./app-loader.component.scss']\n})\nexport class AppLoaderComponent implements OnInit {\n\n  @Input() data;\n  headerMessage: string;\n  loaderMessage: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.headerMessage = 'Please wait';\n    this.loaderMessage = 'We are fetching details';\n    if (this.data) {\n      this.headerMessage = _.get(this.data, 'headerMessage') || this.headerMessage;\n      this.loaderMessage = _.get(this.data, 'loaderMessage') || this.loaderMessage;\n    }\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataService } from './services/data.service';\nimport {  HttpClientModule } from '@angular/common/http'\nimport { AppLoaderComponent } from './components/app-loader/app-loader.component';\n/**\n * Core Module  \n *\n * @author Aman Kumar Sharma <amankumar.sharma@tarento.com>\n */\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule,\n  ],\n  declarations: [AppLoaderComponent],\n  exports:[AppLoaderComponent],\n  providers:[DataService]\n})\nexport class CoreModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["observableThrowError","observableOf","_.get","tslib_1.__decorate"],"mappings":";;;;;;;;WAUe,MAAM,GAAG,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,OAAO,EAAE,OAC7C,MAAM,GAAG,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,QAAQ,EAAE,OAC7C,MAAM,GAAG,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,SAAS,EAAE,OAC9C,CAAC,EAAS,KAAK,GAAG,SAAS,CAAC,WAAW,EAAE,mCAAmC,EAAE,EAAE,OACjF,MAAM,GAAG,SAAS,CAAC,WAAW,EAAE,gCAAgC,OAC7D,MAAM,GAAG,SAAS,CAAC,YAAY,EAAE,mBAAmB,OAC3D,MAAM,GAAG,SAAS,CAAC,aAAa,EAAE,0BAA0B,OACnD,CAAC,UAAU,EAAE,aAAa,KAAK,GAAG,SAAS,CAAC,YAAY,EAAE,gCAAgC,UAAU,kBAAkB,aAAa,EAAE;;;;;;AAZ1J,MAAa,SAAS,GAAG;IACvB,IAAI,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,6BAA6B;IAC7F,OAAO,EAAE,oBAAoB;IAC7B,QAAQ,EAAE,kBAAkB;IAC5B,SAAS,EAAE,iBAAiB;IAC5B,WAAW,IAA+C;IAC1D,YAAY,IAA+C;IAC3D,aAAa,IAAgD;IAC7D,aAAa,IAAkF;IAC/F,YAAY,IAAkE;IAC9E,eAAe,IAAsD;IACrE,SAAS,IAA6D;IACtE,kBAAkB,IAAsI;CAEzJ;;ACfD;;;;;AAQA,IAAa,WAAW,GAAxB,MAAa,WAAW;IAStB,YAAY,IAAe;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAA;KAChB;;;;;;IAMF,GAAG,CAAC,YAAgB;QAClB,MAAM,WAAW,GAAQ;YACvB,OAAO,EAAE,YAAY,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE;YACrE,MAAM,EAAE,YAAY,CAAC,KAAK;YAC1B,OAAO,EAAE,UAAU;SACpB,CAAC;QACF,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAE,YAAY,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC,IAAI,CACvD,QAAQ,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,EAAO;YAC9B,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,EAAE;gBAC9B,OAAOA,UAAoB,CAAC,IAAI,CAAC,CAAC;aACnC;YACD,OAAOC,EAAY,CAAC,IAAI,CAAC,CAAC;SAC3B,CAAC,CAAC,CAAC;KACP;;;;;;IAMD,IAAI,CAAC,YAAgB;QACnB,MAAM,WAAW,GAAO;YACtB,OAAO,EAAE,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE;YACrF,MAAM,EAAE,YAAY,CAAC,KAAK;SAC3B,CAAA;;QAED,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,EAAC,YAAY,CAAC,IAAI,EAAC,WAAW,CAAC,CAAC,IAAI,CACxE,QAAQ,CAAC,CAAC,IAAQ;YAChB,IAAG,IAAI,CAAC,YAAY,KAAK,GAAG,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,EAAC;gBACzD,OAAOA,EAAY,CAAC,IAAI,CAAC,CAAC;aAC3B;iBAAK;gBACJ,OAAOD,UAAoB,CAAC,IAAI,CAAC,CAAC;aACnC;SAEF,CAAC,CACH,CAAA;KACF;;;;IAIQ,SAAS,CAAC,OAAa;QAE9B,MAAM,eAAe,GAAG;YACtB,QAAQ,EAAE,kBAAkB;SAE7B,CAAC;QAEF,IAAI,OAAO,EAAE;YACX,yBAAY,eAAe,EAAK,OAAO,EAAG;SAC3C;aAAM;YACL,yBAAY,eAAe,EAAG;SAC/B;KACF;CACF,CAAA;;YA5DkB,UAAU;;;AAThB,WAAW;IAHvB,UAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,WAAW,CAqEvB;;IC1EY,kBAAkB,GAA/B,MAAa,kBAAkB;IAM7B,iBAAiB;IAEjB,QAAQ;QACN,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,yBAAyB,CAAC;QAC/C,IAAI,IAAI,CAAC,IAAI,EAAE;YACb,IAAI,CAAC,aAAa,GAAGE,GAAK,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC;YAC7E,IAAI,CAAC,aAAa,GAAGA,GAAK,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC;SAC9E;KAEF;CAEF,CAAA;AAhBUC;IAAR,KAAK,EAAE;gDAAM;AAFH,kBAAkB;IAL9B,SAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,kIAA0C;;KAE3C,CAAC;GACW,kBAAkB,CAkB9B;;ACpBD;;;;;AAcA,IAAa,UAAU,GAAvB,MAAa,UAAU;CAAI,CAAA;AAAd,UAAU;IATtB,QAAQ,CAAC;QACR,OAAO,EAAE;YACP,YAAY;YACZ,gBAAgB;SACjB;QACD,YAAY,EAAE,CAAC,kBAAkB,CAAC;QAClC,OAAO,EAAC,CAAC,kBAAkB,CAAC;QAC5B,SAAS,EAAC,CAAC,WAAW,CAAC;KACxB,CAAC;GACW,UAAU,CAAI;;ACnB3B;;GAEG;;;;"}