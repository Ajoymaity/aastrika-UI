{"version":3,"file":"aastrika_npmjs-comptency-core.js","sources":["ng://@aastrika_npmjs/comptency/core/config/url.config.ts","ng://@aastrika_npmjs/comptency/core/services/data.service.ts","ng://@aastrika_npmjs/comptency/core/components/app-loader/app-loader.component.ts","ng://@aastrika_npmjs/comptency/core/core.module.ts","ng://@aastrika_npmjs/comptency/core/aastrika_npmjs-comptency-core.ts"],"sourcesContent":["/**\n * urlConfig to return the api url \n *\n * @author Aman Kumar Sharma <amankumar.sharma@tarento.com>\n */\nexport const urlConfig = {\n  host: 'https://sphere.aastrika.org',\n  apiSlug: '/apis/protected/v8',\n  apiProxy: '/apis/proxies/v8',\n  apiPublic: '/apis/public/v8',\n  apiBasePath: () => `${urlConfig.host}${urlConfig.apiSlug}`,\n  apiBaseProxy:() => `${urlConfig.host}${urlConfig.apiProxy}`,\n  apiBasePublic:() => `${urlConfig.host}${urlConfig.apiPublic}`,\n  getEntityById: (id:number) => `${urlConfig.apiBasePath()}/entityCompetency/getEntityById/${id}`,\n  getAllEntity: () => `${urlConfig.apiBasePath()}/entityCompetency/getAllEntity`,\n  getUserPassbook: () => `${urlConfig.apiBaseProxy()}/user/v1/passbook`,\n  getSearch:() => `${urlConfig.apiBasePublic()}/publicContent/v1/search`,\n  getHierachyDetails:(identifier, hierarchyType) => `${urlConfig.apiBaseProxy()}/action/content/v3/hierarchy/${identifier}?hierarchyType=${hierarchyType}`,\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport {mergeMap} from 'rxjs/operators'\nimport { of as observableOf, throwError as observableThrowError, Observable } from 'rxjs';\n/**\n * DataService to make http call\n *\n * @author Aman Kumar Sharma <amankumar.sharma@tarento.com>\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n    /**\n   * Contains base Url for api end points\n   */\n     baseUrl: string;\n    /**\n   * angular HttpClient\n   */\n  http: HttpClient;\n  constructor(http:HttpClient) {\n    this.http = http\n   }\n  /**\n   * for making get api calls\n   *\n   * @param requestParam interface\n   */\n  get(requestParam:any):Observable<any>{\n    const httpOptions: any = {\n      headers: requestParam.header ? requestParam.header : this.getHeader(),\n      params: requestParam.param,\n      observe: 'response'\n    };\n    return this.http.get( requestParam.url, httpOptions).pipe(\n      mergeMap(({ body, headers }: any) => {\n        if (body.responseCode !== 'OK') {\n          return observableThrowError(body);\n        }\n        return observableOf(body);\n      }));\n  }\n   /**\n   * for making get api calls\n   *\n   * @param requestParam interface\n   */\n  post(requestParam:any){\n    const httpOptions:any = {\n      headers: requestParam.header ? this.getHeader(requestParam.header) : this.getHeader(),\n      params: requestParam.param\n    }\n    // console.log('log in data service',requestParam)\n    return this.http.post(requestParam.url,requestParam.data,httpOptions).pipe(\n      mergeMap((data:any)=>{\n        if(data.responseCode === 200 || data.responseCode === 'OK'){\n          return observableOf(data);\n        }else {\n          return observableThrowError(data);\n        }\n        \n      })\n    )\n  }\n  /**\n   * for preparing headers\n   */\n   private getHeader(headers?: any): any {\n    \n    const default_headers = {\n      'Accept': 'application/json',\n     \n    };\n    \n    if (headers) {\n      return { ...default_headers, ...headers };\n    } else {\n      return { ...default_headers };\n    }\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport * as _ from 'lodash-es'\n@Component({\n  selector: 'lib-app-loader',\n  templateUrl: './app-loader.component.html',\n  styleUrls: ['./app-loader.component.scss']\n})\nexport class AppLoaderComponent implements OnInit {\n\n  @Input() data;\n  headerMessage: string;\n  loaderMessage: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.headerMessage = 'Please wait';\n    this.loaderMessage = 'We are fetching details';\n    if (this.data) {\n      this.headerMessage = _.get(this.data, 'headerMessage') || this.headerMessage;\n      this.loaderMessage = _.get(this.data, 'loaderMessage') || this.loaderMessage;\n    }\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataService } from './services/data.service';\nimport {  HttpClientModule } from '@angular/common/http'\nimport { AppLoaderComponent } from './components/app-loader/app-loader.component';\n/**\n * Core Module  \n *\n * @author Aman Kumar Sharma <amankumar.sharma@tarento.com>\n */\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule,\n  ],\n  declarations: [AppLoaderComponent],\n  exports:[AppLoaderComponent],\n  providers:[DataService]\n})\nexport class CoreModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["observableThrowError","observableOf","_.get","tslib_1.__decorate"],"mappings":"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"}