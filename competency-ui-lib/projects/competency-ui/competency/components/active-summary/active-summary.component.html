<lib-app-loader *ngIf="loading === true"></lib-app-loader>
<ng-container *ngFor="let role of roleactivitySummaries">
  <div class="card-container">
    <mat-accordion>
      <mat-expansion-panel
        class=""
        (opened)="getActivityByRoleId(role.id)"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header
          class="flex-between items-center w-full"
          collapsedHeight="auto"
          expandedHeight="auto"
        >

          <mat-panel-description class="panel-header-description">
            <ng-container *ngIf="role?.roles">
              <div class="flex flex-column w-full">
                <div class="title">{{ role?.roles }}</div>
                <div class="progress-status">In Progress</div>
                <mat-progress-bar mode="determinate" value="40" class="mt-1"></mat-progress-bar>
              </div>
            </ng-container>
          </mat-panel-description>
          <!-- <mat-progress-bar mode="determinate" value="40"></mat-progress-bar> -->
        </mat-expansion-panel-header>
        <lib-app-loader *ngIf="acordianLoading === true"></lib-app-loader>
        <div class="expand-container" *ngIf="roleactivitySummaries.length>0">
          <!-- list of activity -->
          <div class="activity-badge">Activities</div>
          <ng-container
            *ngFor="let activity of role?.activities; let i = index"
          >
            <div class="activity-title">
              {{ i + 1 }}.{{ activity.title }}
            </div>

            
          </ng-container>
            <div class="">
              <lib-competency-accordion [competencyList]="role?.activities"></lib-competency-accordion>
             
              <!-- <div class="competency-title">{{ activity.competency }}</div>
              <div class="level">
                <ng-container *ngFor="let level of activity.levels">
                  {{ level }}
                </ng-container>
              </div> -->
            </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
   
  </div>
</ng-container>
